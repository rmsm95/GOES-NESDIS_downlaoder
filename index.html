<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GOES & JPSS AWS Data Downloader</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>

<body>

  <!-- ============================= HEADER ============================= -->
  <header class="header">
    <div class="header-content">
      <h1>GOES & JPSS AWS Data Downloader</h1>
      <p class="subtitle">
        Browse and download NOAA GOES (16–19) and JPSS (NOAA-20, NOAA-21)
        satellite data hosted on AWS Open Data.
      </p>
    </div>
  </header>

  <!-- ============================ MAIN ================================ -->
  <main class="container">
    <div class="app-container" style="display:flex; gap:16px; align-items:flex-start;">
      <div class="controls-panel">
        <!-- ================= SATELLITES / SENSORS / PRODUCTS / BANDS ================= -->
        <section class="panel">
          <h2>1. Select satellites, sensors, products & bands</h2>

          <div class="grid-2">
            <div class="control-group">
              <h3>Satellites</h3>
              <select id="sat-select" multiple size="6" class="select-multi"></select>
              <small>You can select one or more satellites.</small>
            </div>

            <div class="control-group">
              <h3>Sensors / Instruments</h3>
              <select id="sensor-select" multiple size="6" class="select-multi"></select>
              <small>Options depend on the satellites selected.</small>
            </div>
          </div>

          <div class="grid-2">
            <div class="control-group">
              <h3>Products</h3>
              <select id="product-select" multiple size="8" class="select-multi"></select>
              <small>Choose one or more products (or leave empty to query all).</small>
            </div>

            <div class="control-group">
              <h3>Bands (ABI)</h3>
              <select id="band-select" multiple size="6" class="select-multi"></select>
              <label class="band-controls"><input type="checkbox" id="bands-select-all"> Select all bands (C01–C16)</label>
            </div>
          </div>

          <div class="control-group">
            <h3>Domain (GOES ABI)</h3>
            <div id="domain-options" class="radio-group">
              <label><input type="radio" name="domain" value="FULL_DISK" checked> Full Disk</label>
              <label><input type="radio" name="domain" value="CONUS"> CONUS</label>
              <label><input type="radio" name="domain" value="MESOSCALE"> Mesoscale</label>
            </div>
          </div>
        </section>

        <!-- ============================== TIME ================================ -->
        <section class="panel">
          <h2>2. Select time range</h2>

          <div class="radio-group control-group">
            <label><input type="radio" name="time-mode" value="single" checked> Single date & hour</label>
            <label><input type="radio" name="time-mode" value="range"> Date & time interval</label>
          </div>

          <div id="single-time-block" class="time-block control-group">
            <h3>Single date & hour (UTC)</h3>
            <label>Date: <input type="date" id="single-date"></label>
            <label>Hour: <input type="number" id="single-hour" min="0" max="23" value="0"></label>
          </div>

          <div id="range-time-block" class="time-block hidden control-group">
            <h3>Date & time interval (UTC)</h3>
            <div class="grid-2">
              <div>
                <h4>Start</h4>
                <label>Date: <input type="date" id="range-start-date"></label>
                <label>Hour: <input type="number" id="range-start-hour" min="0" max="23" value="0"></label>
              </div>
              <div>
                <h4>End</h4>
                <label>Date: <input type="date" id="range-end-date"></label>
                <label>Hour: <input type="number" id="range-end-hour" min="0" max="23" value="0"></label>
              </div>
            </div>
          </div>

          <button id="query-button" class="btn-primary">3. Query S3</button>
          <div id="query-status" class="status-box"></div>
          <div class="info-box" style="margin-top:8px;"><small>Tip: Times are UTC. If you want all products, don't select any product.</small></div>
        </section>
      </div>

      <div class="results-panel">
        <!-- ============================== RESULTS ================================ -->
        <section class="panel">
          <h2>4. Results & downloads</h2>

          <div class="results-actions button-group">
            <label style="display:flex;align-items:center;gap:8px;">
              <input type="checkbox" id="select-all-files">
              <span>Select all files</span>
            </label>

            <button id="download-selected" class="btn-secondary">Download selected</button>
            <button id="copy-urls" class="btn-secondary">Copy URLs</button>
          </div>

          <div id="results-info" class="status-box"></div>

          <div class="table-container info-box" style="margin-top:8px;">
            <table id="results-table">
              <thead>
                <tr>
                  <th>Select</th>
                  <th>Satellite</th>
                  <th>Bucket</th>
                  <th>Sensor</th>
                  <th>Product</th>
                  <th>Band</th>
                  <th>Key</th>
                  <th>Size (MB)</th>
                  <th>Last modified</th>
                </tr>
              </thead>
              <tbody id="results-body"></tbody>
            </table>
          </div>
        </section>
      </div>
    </div>
  </main>

  <!-- ============================== FOOTER ================================ -->
  <footer class="footer">
    <p>Option D — footer placeholder here.</p>
  </footer>

  <!-- Scripts -->
  <script src="config.js"></script>
  <script src="script.js"></script>

</body>
</html>
